<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<meta charset="utf-8" />
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<meta name="description" content="" />
<meta name="author" content="" />
<title>글 목록</title>
<!-- Core theme CSS (includes Bootstrap)-->
<link href="/css/styles.css" rel="stylesheet" />
<script>
	function pagingFormSubmit(currentPage) {

		let form = document.getElementById("pagingForm");
		let page = document.getElementById("page");

		page.value = currentPage;

		form.submit();
	}
</script>
</head>
<body>
	<div class="d-flex" id="wrapper">
		<!-- Sidebar-->
		<div class="border-end bg-white" id="sidebar-wrapper">
			<div class="sidebar-heading border-bottom bg-light">
				<a href="/loginafter"
					class="d-flex align-items-center mb-3 mb-md-0 me-md-auto link-body-emphasis text-decoration-none">
					<svg class="bi me-2" width="40" height="32"></svg> <span
					class="fs-4"><img src="/img/logo (2).png" width="100px"></span>
				</a>
			</div>
			<div class="list-group list-group-flush">
				<div sec:authorize="hasAnyRole('ADMIN','EMP')">
					<a href="/infoBusiness"
						class="list-group-item list-group-item-action list-group-item-light p-3">
						<svg class="bi pe-none me-1" width="16" height="40">
							<img width="20" src="/img/hotel.png">
					    </svg> 업체관리
					</a>
				</div>
				<div>
					<a th:href="@{/complain/boardList(id='complain')}"
						class="list-group-item list-group-item-action list-group-item-light p-3">
						<svg class="bi pe-none me-1" width="16" height="40">
							<img width="20" src="/img/complain.png">
					    </svg> 민원게시판
					</a>
				</div>
				<div>
					<a href="#"
						class="list-group-item list-group-item-action list-group-item-light p-3">
						<svg class="bi pe-none me-1" width="16" height="40">
							<img width="20" src="/img/clock.png">
					    </svg> 예약통계
					</a>
				</div>
				<div>
					<a href="#"
						class="list-group-item list-group-item-action list-group-item-light p-3">
						<svg class="bi pe-none me-1" width="16" height="40">
							<img width="20" src="/img/statics.png">
					    </svg> 통계분석
					</a>
				</div>
				<div sec:authorize="hasRole('ADMIN')">
					<a href="/adminapproval"
						class="list-group-item list-group-item-action list-group-item-light p-3">
						<svg class="bi pe-none me-1" width="16" height="40">
							<img width="20" src="/img/user.png">
					    </svg> 회원목록관리
					</a>
				</div>
				<div>
					<a href="/loginafter"
						class="list-group-item list-group-item-action list-group-item-light p-3">
						<svg class="bi pe-none me-1" width="16" height="40">
							<img width="20" src="/img/home.png">
					    </svg> 홈화면
					</a>
				</div>

			</div>
		</div>
		<!-- Page content wrapper-->
		<div id="page-content-wrapper">
			<!-- Top navigation-->
			<nav
				class="navbar navbar-expand-lg navbar-light bg-light border-bottom">
				<div class="container-fluid">
					<button class="btn btn-primary" id="sidebarToggle">Toggle
						Menu</button>
					<button class="navbar-toggler" type="button"
						data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
						aria-controls="navbarSupportedContent" aria-expanded="false"
						aria-label="Toggle navigation">
						<span class="navbar-toggler-icon"></span>
					</button>
					<div class="collapse navbar-collapse" id="navbarSupportedContent">
						<ul class="navbar-nav ms-auto mt-2 mt-lg-0">
							<li class="nav-item active"><a class="nav-link" href="#!">Home</a></li>
							<li class="nav-item"><a class="nav-link" href="#!">Link</a></li>
							<li class="nav-item dropdown"><a
								class="nav-link dropdown-toggle" id="navbarDropdown" href="#"
								role="button" data-bs-toggle="dropdown" aria-haspopup="true"
								aria-expanded="false" th:text="${#authentication.name}"></a>
								<div class="dropdown-menu dropdown-menu-end"
									aria-labelledby="navbarDropdown">
									<a class="dropdown-item" href="/memberupdate">회원정보 수정</a> <a
										class="dropdown-item" onclick="confirmLogout()">로그아웃</a>
									<div class="dropdown-divider"></div>
									<a class="dropdown-item" href="#!">Something else here</a>
								</div></li>
						</ul>
					</div>
				</div>
			</nav>
			<!-- Page content-->
			<div class="container-fluid">
				<div class="table-responsive w-100 p-3 ">
					<h1 th:text="${param.id}"></h1>
					<table class="table table-bordered table-hover ">
						<tr>
							<th>글 번호</th>
							<th>작성자</th>
							<th>제목</th>
							<th>작성일시</th>
							<th>조회수</th>
						</tr>
						<tr th:each="b : ${board}">
							<td th:text="${b.boardNum}"></td>
							<td th:text="${b.userId}"></td>
							<td><a
								th:href="@{|/${id}/boardRead?boardNum=${b.boardNum}|}"> <span
									th:text="${b.title}"></span>&nbsp;
							</a></td>
							<td th:text="${b.inputDate}"></td>
							<td th:text="${b.viewCount}"></td>
						</tr>
					</table>
					<a th:href="@{|/${id}/boardWrite?id=${id}|}"
						class="btn btn-secondary">글쓰기</a> <br> <br>
					<form th:action="@{|/${id}/boardList|}" method="get"
						id="pagingForm">
						<input th:value="${param.id}" type="hidden" name="id"> <input
							type="hidden" name="page" id="page"> <input
							th:value="${param.keyword}" type="hidden" name="keyword">
						<input th:value="${param.category}" type="hidden" name="category">
					</form>
					<form th:action="@{|/${id}/boardList|}" method="get">
						<input th:value="${id}" type="hidden" name="id">
						<div class="d-flex flex-row bd-highlight mb-3 w-50">
							<select name="category" class="form-select">
								<option value="title" th:selected="${category  == 'title'}">제목</option>
								<option value="content" th:selected="${category == 'content'}">내용</option>
								<option value="userId" th:selected="${category == 'userId'}">작성자</option>
							</select> <input th:value="${keyword}" type="text" name="keyword"
								placeholder="Search..." class="form-control me-2"> <input
								type="submit" value="검색하기" class="btn btn-outline-success">
						</div>
					</form>
				</div>


				<div>
					<ul class="pagination justify-content-center">
						<li class="page-item"><a class="page-link"
							th:href="|javascript:pagingFormSubmit(${navi.currentPage - navi.pagePerGroup})|"
							aria-label="Previous"> <span aria-hidden="true">&laquo;</span>
						</a></li>
						<li class="page-item"><a class="page-link"
							th:href="|javascript:pagingFormSubmit(${navi.currentPage - 1})|"
							aria-label="Previous"> <span aria-hidden="true">＜</span>
						</a></li>
						<th:block
							th:each="counter : ${#numbers.sequence(navi.startPageGroup, navi.endPageGroup)}">
							<li class="page-item" th:if="${counter != 0}"><a
								class="page-link" th:text="${counter}"
								th:href="|javascript:pagingFormSubmit(${counter})|"></a></li>
						</th:block>
						<li class="page-item"><a class="page-link"
							th:href="|javascript:pagingFormSubmit(${navi.currentPage + 1})|"
							aria-label="Next"> <span aria-hidden="true">＞</span>
						</a></li>
						<li class="page-item"><a class="page-link"
							th:href="|javascript:pagingFormSubmit(${navi.currentPage + navi.pagePerGroup})|"
							aria-label="Next"> <span aria-hidden="true">&raquo;</span>
						</a></li>

					</ul>
				</div>


			</div>
		</div>
	</div>
	<!-- Bootstrap core JS-->
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
	<!-- Core theme JS-->
	<script src="/js/scripts.js"></script>
	<script src="/js/Myscript.js"></script>
</body>
</html>