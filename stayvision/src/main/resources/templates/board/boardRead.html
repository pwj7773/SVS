<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<meta charset="utf-8" />
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<meta name="description" content="" />
<meta name="author" content="" />
<title>글</title>
<!-- Core theme CSS (includes Bootstrap)-->
<link href="/css/styles.css" rel="stylesheet" />
<script>
	function pagingFormSubmit(currentPage) {

		let form = document.getElementById("pagingForm");
		let page = document.getElementById("page");

		page.value = currentPage;

		form.submit();
	}
</script>
</head>
<body>
	<div class="d-flex" id="wrapper">
		<!-- Sidebar-->
		<div class="border-end bg-white" id="sidebar-wrapper">
			<div class="sidebar-heading border-bottom bg-white">
				<a href="/loginafter"
					class="d-flex align-items-center mb-3 mb-md-0 me-md-auto link-body-emphasis text-decoration-none">
					<svg class="bi me-2" width="40" height="32"></svg> <span
					class="fs-4"><img src="/img/logo (2).png" width="100px"></span>
				</a>
			</div>
			<div class="list-group list-group-flush">
				<div sec:authorize="hasAnyRole('ADMIN','EMP')">
					<a href="/infoBusiness"
						class="list-group-item list-group-item-action list-group-item-light p-3">
						<svg class="bi pe-none me-1" width="16" height="40">
							<img width="20" src="/img/hotel.png">
					    </svg> 업체관리
					</a>
				</div>
				<div>
					<a th:href="@{/complain/boardList(id='complain')}"
						class="list-group-item list-group-item-action list-group-item-light p-3">
						<svg class="bi pe-none me-1" width="16" height="40">
							<img width="20" src="/img/complain.png">
					    </svg> 민원게시판
					</a>
				</div>
				<div>
					<a href="#"
						class="list-group-item list-group-item-action list-group-item-light p-3">
						<svg class="bi pe-none me-1" width="16" height="40">
							<img width="20" src="/img/clock.png">
					    </svg> 예약통계
					</a>
				</div>
				<div>
					<a href="#"
						class="list-group-item list-group-item-action list-group-item-light p-3">
						<svg class="bi pe-none me-1" width="16" height="40">
							<img width="20" src="/img/statics.png">
					    </svg> 통계분석
					</a>
				</div>
				<div sec:authorize="hasRole('ADMIN')">
					<a href="/adminapproval"
						class="list-group-item list-group-item-action list-group-item-light p-3">
						<svg class="bi pe-none me-1" width="16" height="40">
							<img width="20" src="/img/user.png">
					    </svg> 회원목록관리
					</a>
				</div>
				<div>
					<a href="/loginafter"
						class="list-group-item list-group-item-action list-group-item-light p-3">
						<svg class="bi pe-none me-1" width="16" height="40">
							<img width="20" src="/img/home.png">
					    </svg> 홈화면
					</a>
				</div>

			</div>
		</div>
		<!-- Page content wrapper-->
		<div id="page-content-wrapper">
			<!-- Top navigation-->
			<nav
				class="navbar navbar-expand-lg navbar-light bg-light border-bottom">
				<div class="container-fluid">
					<button class="btn btn-primary" id="sidebarToggle">Toggle
						Menu</button>
					<button class="navbar-toggler" type="button"
						data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
						aria-controls="navbarSupportedContent" aria-expanded="false"
						aria-label="Toggle navigation">
						<span class="navbar-toggler-icon"></span>
					</button>
					<div class="collapse navbar-collapse" id="navbarSupportedContent">
						<ul class="navbar-nav ms-auto mt-2 mt-lg-0">
							<li class="nav-item active"><a class="nav-link" href="#!">Home</a></li>
							<li class="nav-item"><a class="nav-link" href="#!">Link</a></li>
							<li class="nav-item dropdown"><a
								class="nav-link dropdown-toggle" id="navbarDropdown" href="#"
								role="button" data-bs-toggle="dropdown" aria-haspopup="true"
								aria-expanded="false" th:text="${#authentication.name}"></a>
								<div class="dropdown-menu dropdown-menu-end"
									aria-labelledby="navbarDropdown">
									<a class="dropdown-item" href="/memberupdate">회원정보 수정</a> <a
										class="dropdown-item" onclick="confirmLogout()">로그아웃</a>
									<div class="dropdown-divider"></div>
									<a class="dropdown-item" href="#!">Something else here</a>
								</div></li>
						</ul>
					</div>
				</div>
			</nav>
			<!-- Page content-->
			<div class="container-fluid">

				<div class="table-responsive">
					<table th:object="${board}"
						class="table table-bordered table-hover">
						<tr>
							<th th:text="*{boardNum}" class="text-center"></th>
							<th th:text="*{title}" colspan="2" class="text-center"></th>
							<th th:text="*{userId}" class="text-center"></th>
							<th th:text="*{inputDate}" class="text-center"></th>
							<th th:text="*{viewCount}" class="text-center"></th>
						</tr>
						<tr>
							<th>첨부파일</th>
							<td colspan="5"><span th:text="|첨부파일 없습니다.|"
								th:unless="*{originalFile != null}"></span>
								<div th:if="*{originalFile != null}">
									<a th:if="*{originalFile != null}"
										th:href="@{|/*{boardType}/download?boardNum=*{boardNum}|}">
										<span th:text="*{originalFile}"></span> <img
										th:if="${#strings.endsWith(board.savedFile,'jpg') or #strings.endsWith(board.savedFile,'png') or #strings.endsWith(board.savedFile,'gif')}"
										th:src="@{|/*{boardType}/display?boardNum=*{boardNum}}|"
										width="20">
									</a>
								</div></td>
						</tr>
						<tr>
							<td th:text="*{content}" colspan="6" class="text-center"></td>
						</tr>
					</table>
					<a
						th:href="@{|/${board.boardType}/boardUpdate?boardNum=${board.boardNum}}|"
						class="btn btn-secondary">수정</a> <a
						th:href="@{|/${board.boardType}/boardDelete?boardNum=${board.boardNum}}|"
						class="btn btn-secondary"
						onclick="javascript:return confirm('삭제 하시겠습니까?')">삭제</a>
				</div>


				<!-- 댓글 구역 -->
				<div id="reply">
					<div id="reList"></div>
					<textarea id="replyText" rows="3" cols="30"></textarea>
					<br> <input type="button" value="댓글달기" id="btnReply">
					<input type="button" value="댓글수정" id="btnUpdate"> <input
						type="hidden" id="selectedReply" value="">
				</div>
				<div id="paging"></div>


				<input type="hidden" id="boardNum" th:value=${board.boardNum}>
				<input type="hidden" id="login" th:value="${#authentication.name}">

			</div>
		</div>
	</div>
	<!-- Bootstrap core JS-->
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
	<!-- Core theme JS-->
	<script src="/js/scripts.js"></script>
	<script src="/js/Myscript.js"></script>
	<script src="/js/jquery-3.6.3.min.js"></script>
	<script src="/js/boardRead.js"></script>
	
</body>
</html>