<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<meta charset="utf-8" />
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<meta name="description" content="" />
<meta name="author" content="" />
<title>[글쓰기]</title>
<!-- Core theme CSS (includes Bootstrap)-->
<link href="/css/styles.css" rel="stylesheet" />
<link rel="stylesheet" href="/css/summernote/summernote-lite.css">
<script src="/js/jquery-3.6.3.min.js"></script>
<script>
$(document).ready(function() {
	//여기 아래 부분
	$('#summernote').summernote({
		  height: 300,                 // 에디터 높이
		  minHeight: null,             // 최소 높이
		  maxHeight: null,             // 최대 높이
		  focus: true,                  // 에디터 로딩후 포커스를 맞출지 여부
		  lang: "ko-KR",					// 한글 설정
		  placeholder: '최대 2048자까지 쓸 수 있습니다',	//placeholder 설정
		  toolbar: [
				    // [groupName, [list of button]]
				    ['fontname', ['fontname']],
				    ['fontsize', ['fontsize']],
				    ['style', ['bold', 'italic', 'underline','strikethrough', 'clear']],
				    ['color', ['forecolor','color']],
				    ['table', ['table']],
				    ['para', ['ul', 'ol', 'paragraph']],
				    ['height', ['height']],
				    ['insert',['picture','link','video']],
				    ['view', ['fullscreen', 'help']]
				  ],
			fontNames: ['Arial', 'Arial Black', 'Comic Sans MS', 'Courier New','맑은 고딕','궁서','굴림체','굴림','돋움체','바탕체'],
			fontSizes: ['8','9','10','11','12','14','16','18','20','22','24','28','30','36','50','72'],
			callbacks : {
				onImageUpload : function(files, editor, welEditable) {     
					for (var i = 0; i < files.length; i++) {
						sendFile(files[i], this);
					}
				}
			}
	});
	
});

function sendFile(file, editor) {
	var form_data = new FormData();
	form_data.append('file', file);
	$.ajax({
		data : form_data,
		type : "POST",
		url : '/resources/summerimages',
		cache : false,
		contentType : false,
		enctype : 'multipart/form-data',
		processData : false,
		success : function(url) {
			$(editor).summernote('insertImage', url, function($image) {
				$image.css('width', "25%");
			});
		}
	});
}
		
</script>
</head>
<body>
	<div class="d-flex" id="wrapper">
		<!-- Sidebar-->
				<div class="border-end bg-white" id="sidebar-wrapper">
			<div class="sidebar-heading border-bottom bg-light">
				<a href="/loginafter"
					class="d-flex align-items-center mb-3 mb-md-0 me-md-auto link-body-emphasis text-decoration-none">
					<svg class="bi me-2" width="40" height="32"></svg> <span
					class="fs-4"><img src="/img/logo (2).png" width="100px"></span>
				</a>
			</div>
			<div class="list-group list-group-flush">
				<div sec:authorize="hasAnyRole('ADMIN','EMP')">
					<a href="/infoBusiness"
						class="list-group-item list-group-item-action list-group-item-light p-3">
						<svg class="bi pe-none me-1" width="16" height="40">
							<img width="20" src="/img/hotel.png">
					    </svg> 업체관리
					</a>
				</div>
				<div>
					<a th:href="@{/complain/boardList(id='complain')}"
						class="list-group-item list-group-item-action list-group-item-light p-3">
						<svg class="bi pe-none me-1" width="16" height="40">
							<img width="20" src="/img/complain.png">
					    </svg> 민원게시판
					</a>
				</div>
				<div>
					<a href="#"
						class="list-group-item list-group-item-action list-group-item-light p-3">
						<svg class="bi pe-none me-1" width="16" height="40">
							<img width="20" src="/img/clock.png">
					    </svg> 예약통계
					</a>
				</div>
				<div>
					<a href="#"
						class="list-group-item list-group-item-action list-group-item-light p-3">
						<svg class="bi pe-none me-1" width="16" height="40">
							<img width="20" src="/img/statics.png">
					    </svg> 통계분석
					</a>
				</div>
				<div sec:authorize="hasRole('ADMIN')">
					<a href="/adminapproval"
						class="list-group-item list-group-item-action list-group-item-light p-3">
						<svg class="bi pe-none me-1" width="16" height="40">
							<img width="20" src="/img/user.png">
					    </svg> 회원목록관리
					</a>
				</div>
				<div>
					<a href="/loginafter"
						class="list-group-item list-group-item-action list-group-item-light p-3">
						<svg class="bi pe-none me-1" width="16" height="40">
							<img width="20" src="/img/home.png">
					    </svg> 홈화면
					</a>
				</div>

			</div>
		</div>
		<!-- Page content wrapper-->
		<div id="page-content-wrapper">
			<!-- Top navigation-->
			<nav
				class="navbar navbar-expand-lg navbar-light bg-light border-bottom">
				<div class="container-fluid">
					<button class="btn btn-primary" id="sidebarToggle">Toggle
						Menu</button>
					<button class="navbar-toggler" type="button"
						data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
						aria-controls="navbarSupportedContent" aria-expanded="false"
						aria-label="Toggle navigation">
						<span class="navbar-toggler-icon"></span>
					</button>
					<div class="collapse navbar-collapse" id="navbarSupportedContent">
						<ul class="navbar-nav ms-auto mt-2 mt-lg-0">
							<li class="nav-item active"><a class="nav-link" href="#!">Home</a></li>
							<li class="nav-item"><a class="nav-link" href="#!">Link</a></li>
							<li class="nav-item dropdown"><a
								class="nav-link dropdown-toggle" id="navbarDropdown" href="#"
								role="button" data-bs-toggle="dropdown" aria-haspopup="true"
								aria-expanded="false">userId</a>
								<div class="dropdown-menu dropdown-menu-end"
									aria-labelledby="navbarDropdown">
									<a class="dropdown-item" href="/memberupdate">회원정보 수정</a> <a
										class="dropdown-item" onclick="confirmLogout()">로그아웃</a>
									<div class="dropdown-divider"></div>
									<a class="dropdown-item" href="#!">Something else here</a>
								</div></li>
						</ul>
					</div>
				</div>
			</nav>
			<!-- Page content-->
			<div class="container-fluid">
				<form th:action="@{|/${id}/boardWrite|}" method="post"
					enctype="multipart/form-data">
					<table>
						<tr>
							<th>제목</th>
							<td><input class="form-control" name="title" id="title"
								type="text"></td>
						</tr>
						<tr>
							<th>파일첨부</th>
							<td><input class="form-control" type="file" name="file"></td>
						</tr>
						<tr>
							<th>내용</th>
							<td><textarea id="summernote" name="content"
									></textarea></td>
						</tr>
						<tr>
							<th colspan="2"><input type="submit" value="글쓰기"> <input
								type="button" value="뒤로 가기" onclick="javascript:history.back()">
							</th>
						</tr>
					</table>
					<input th:value="${id}" type="hidden" name="boardType">
				</form>
			</div>
		</div>
	</div>
	<!-- Bootstrap core JS-->
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
	<!-- Core theme JS-->
	<script src="/js/scripts.js"></script>
	<script src="/js/Myscript.js"></script>
	<script src="/js/summernote/summernote-lite.js"></script>
	<script src="/js/summernote/lang/summernote-ko-KR.js"></script>
</body>
</html>
